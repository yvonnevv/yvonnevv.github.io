---
title: 小白的 Hexo + Github 建站指引
date: 2017-06-02 10:34:01
categories: 前端
---
本文是有关Hexo+Github建站的基础流程，抛除相关技术深入探研，根据本文指引能迅速搭建一个基本的博客空间。这篇文章能为你解决下面的问题：
1. 迅速建站
2. 多PC同步

## 准备工具
依赖：NodeJS、git、hexo    
首先得把依赖的工具安装好，这里找了几个教程，不一一描述了。     
- [NodeJS安装](http://www.runoob.com/nodejs/nodejs-install-setup.html)   
- [Git安装](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137396287703354d8c6c01c904c7d9ff056ae23da865a000/)   
- hexo安装
```
$ npm install -g hexo-cli
```

## 新建Blog并部署上Github
确保你的Github已经配置好当前使用PC的shh公钥。不清楚的可以看下面的链接：
[git-ssh 配置和使用](https://segmentfault.com/a/1190000002645623)

这里提一点：如果你的Blog Git提交账户和平时使用的Git账户不同（比如一个公司的一个私人的），可以进入你新建的blog文件夹，配置：
```
$ git config -- user.name "your github name"
$ git config -- user.email "your github email"
```

完成上述Github配置后，就可以开始正式开发我们的Blog了～

### 1. 新建blog目录，安装hexo
进入新建的blog目录下，输入命令
```
hexo init
hexo s
```
如无意外，会提示
```
INFO  Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.
```

### 2. 更换hexo主题（可跳过）
hexo默认的主题是landscape，对于某些追求简约个性的人来说，这个主题可能不太对口。我们可以根据个人喜好选择hexo主题。
进入[hexo theme](https://hexo.io/themes/)选择自己喜欢的主题，我用的是“next”。参考主题Github README文档，下载并使用主题。

如“next”使用方法如下
```
$ cd your-hexo-site
$ git clone https://github.com/iissnan/hexo-theme-next themes/next
```
用编辑器打开blog的`_config.yml`配置文件，找到`theme`将其改为
`theme: next`

### 3. 发布blog并上传至Github
使用命令
```
$ hexo new new_post_name
```
新建文章，新建的文章可在“yourblog/source/_posts/”中找到。每一个文章都是一个md（markdown）文件，不熟悉markdown编辑的同学可以找找相关教程。
打开 “new_post_name.md” 对新建的文章进行markdown编辑。

添加远程github地址，需要在你的github中新建一个名为“yourname.github.io”的仓库，使用以下命令，关联远程地址，这里默认是提交到master分支
```
$ git init
$ git remote add origin <remote_repo>
```
最后使用hexo命令生成并发布blog
```
$ hexo clean
$ hexo g
$ hexo d
```
这时候就能在 “yourname.github.io”看到你的blog了～
前提是没被墙。

## 多PC共同管理同一个站点
有时候，我们可能会在多台PC共同管理我们的博客，比如公司电脑和家用电脑。但是使用`hexo d`部署blog时，会直接将原始的hexo代码转换生成静态的页面，并上传至master分支，这样一来，
我们便无法在另一台电脑获得原始的代码再进行新文章发布。所以，我们需要新建一个hexo分支，来管理我们原始的hexo代码。
```
$ git checkout -b hexo
Switched to a new branch "hexo"

$ git add .
$ git commit -m "issue"
$ git push origin hexo
```

这个时候，我们就已经将原始代码push到远程的hexo分支啦～
在另一台电脑下，将hexo分支的代码clone下来
```
$ git clone -b hexo <remote_repo>
```
使用hexo（确保电脑已安装hexo-cli），注意这里不需要再hexo init了，不然会覆盖掉之前的配置。
```
$ cd yourname.github.io
$ npm install
...
$ hexo s
```
这样一来就可以实现多PC共同管理一个站点了～～

![暗中微笑](http://oqwh8w9hs.bkt.clouddn.com/markdown-img-paste-20170602164858453.png)
